<!DOCTYPE html>
<html lang="zh-CN" class="theme-dark">

<head>
  <meta charset="utf-8" />
  <title>入门 - 复合工程</title>
  <meta content="安装和使用 Claude Code 复合工程插件的完整指南。" name="description" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />

  <!-- Styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link href="../css/style.css" rel="stylesheet" type="text/css" />
  <link href="../css/docs.css" rel="stylesheet" type="text/css" />
  <script src="../js/main.js" type="text/javascript" defer></script>
</head>

<body>
  <div class="background-gradient"></div>
  <div class="docs-layout">
    <!-- Sidebar -->
    <aside class="docs-sidebar">
      <div class="sidebar-header">
        <a href="../index.html" class="nav-brand">
          <span class="logo-icon"><i class="fa-solid fa-layer-group"></i></span>
          <span class="logo-text">CE文件</span>
        </a>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>入门</h3>
          <ul>
            <li><a href="#installation" class="active">安装</a></li>
            <li><a href="#quick-start">快速入门</a></li>
            <li><a href="#configuration">配置</a></li>
          </ul>
        </div>
        <div class="nav-section">
          <h3>核心概念</h3>
          <ul>
            <li><a href="#philosophy">哲学</a></li>
            <li><a href="#agents">使用代理</a></li>
            <li><a href="#commands">使用命令</a></li>
            <li><a href="#skills">使用技巧</a></li>
          </ul>
        </div>
        <div class="nav-section">
          <h3>指南</h3>
          <ul>
            <li><a href="#code-review">代码审查工作流程</a></li>
            <li><a href="#creating-agents">创建自定义代理</a></li>
            <li><a href="#creating-skills">创建自定义技能</a></li>
          </ul>
        </div>
        <div class="nav-section">
          <h3>参考</h3>
          <ul>
            <li><a href="agents.html">代理参考</a></li>
            <li><a href="commands.html">命令参考</a></li>
            <li><a href="skills.html">技能参考</a></li>
            <li><a href="mcp-servers.html">MCP服务器</a></li>
            <li><a href="changelog.html">变更日志</a></li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="docs-content">
      <div class="docs-header">
        <nav class="breadcrumb">
          <a href="../index.html">家</a>
          <span>/</span>
          <span>入门</span>
        </nav>
        <button class="mobile-menu-toggle" data-sidebar-toggle>
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>

      <article class="docs-article">
        <h1>复合工程入门</h1>
        <p class="lead">
          五分钟后，您将运行一个命令来启动 10 个 AI 代理（每个代理都有不同的专业）来并行审查您的拉取请求。安全性、性能、架构、可访问性，所有这些都同时发生。这就是插件。让我们帮您设置一下。
        </p>

        <!-- Installation Section -->
        <section id="installation">
          <h2><i class="fa-solid fa-download"></i> 安装</h2>

          <h3>先决条件</h3>
          <ul>
            <li><a href="https://claude.ai/claude-code" target="_blank">克劳德·科德</a> 安装并配置</li>
            <li>GitHub 帐户（用于市场访问）</li>
            <li>Node.js 18+（适用于 MCP 服务器）</li>
          </ul>

          <h3>第 1 步：添加市场</h3>
          <p>将市场视为应用程序商店。您将其添加到 Claude Code 的查找插件位置列表中：</p>
          <div class="card-code-block">
            <pre><code>claude /plugin marketplace add https://github.com/EveryInc/every-marketplace</code></pre>
          </div>

          <h3>第 2 步：安装插件</h3>
          <p>现在获取插件本身：</p>
          <div class="card-code-block">
            <pre><code>claude /plugin install compound-engineering</code></pre>
          </div>

          <h3>第 3 步：验证安装</h3>
          <p>检查它是否有效：</p>
          <div class="card-code-block">
            <pre><code>claude /plugin list</code></pre>
          </div>
          <p>你会看到 <code>compound-engineering</code> 在列表中。如果你愿意，那么你就准备好了。</p>

          <div class="callout callout-info">
            <div class="callout-icon"><i class="fa-solid fa-circle-info"></i></div>
            <div class="callout-content">
              <h4>已知问题：MCP 服务器</h4>
              <p>
                捆绑的 MCP 服务器（用于浏览器自动化的 Playwright、用于文档的 Context7）并不总是自动加载。如果您需要它们，下面有一个手动配置步骤。否则，请忽略这一点——其他一切都正常。
              </p>
            </div>
          </div>
        </section>

        <!-- Quick Start Section -->
        <section id="quick-start">
          <h2><i class="fa-solid fa-rocket"></i> 快速入门</h2>

          <p>让我们看看这个东西实际上能做什么。我将向您展示您将经常使用的三个工作流程：</p>

          <h3>运行代码审查</h3>
          <p>这是最重要的。类型 <code>/review</code> 并观察它产生 10 多个专业审稿人：</p>
          <div class="card-code-block">
            <pre><code># Review a PR by number
/review 123

# Review the current branch
/review

# Review a specific branch
/review feature/my-feature</code></pre>
          </div>

          <h3>使用专业代理</h3>
          <p>有时您只需要一位专家。直接打电话给他们：</p>
          <div class="card-code-block">
            <pre><code># Rails code review with Kieran's conventions
claude agent kieran-rails-reviewer "Review the UserController"

# Security audit
claude agent security-sentinel "Audit authentication flow"

# Research best practices
claude agent best-practices-researcher "Find pagination patterns for Rails"</code></pre>
          </div>

          <h3>调用技能</h3>
          <p>技能就像是在克劳德的大脑中装入了一本参考书。当您需要特定领域的深入知识时：</p>
          <div class="card-code-block">
            <pre><code># Generate images with Gemini
skill: gemini-imagegen

# Write Ruby in DHH's style
skill: dhh-ruby-style

# Create a new Claude Code skill
skill: create-agent-skills</code></pre>
          </div>
        </section>

        <!-- Configuration Section -->
        <section id="configuration">
          <h2><i class="fa-solid fa-gear"></i> 配置</h2>

          <h3 id="mcp-configuration">MCP 服务器配置</h3>
          <p>
            如果 MCP 服务器没有自动加载，请将其粘贴到 <code>.claude/settings.json</code>:
          </p>
          <div class="card-code-block">
            <pre><code>{
  "mcpServers": {
    "playwright": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@playwright/mcp@latest"],
      "env": {}
    },
    "context7": {
      "type": "http",
      "url": "https://mcp.context7.com/mcp"
    }
  }
}</code></pre>
          </div>

          <h3>环境变量</h3>
          <p>目前，只有一项技能需要 API 密钥。如果您使用 Gemini 的图像生成：</p>
          <table class="docs-table">
            <thead>
              <tr>
                <th>多变的</th>
                <th>需要用于</th>
                <th>描述</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>GEMINI_API_KEY</code></td>
                <td>Gemini-imagegen</td>
                <td>用于图像生成的 Google Gemini API 密钥</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- Philosophy Section -->
        <section id="philosophy">
          <h2><i class="fa-solid fa-lightbulb"></i> 复合工程理念</h2>

          <blockquote class="highlight-quote">
            每个工程工作单元都应该使后续工作单元变得更容易——而不是更困难。
          </blockquote>

          <p>以下是它在实践中的工作原理——您将反复运行的四步循环：</p>

          <div class="philosophy-grid">
            <div class="philosophy-card">
              <div class="philosophy-icon"><i class="fa-solid fa-brain"></i></div>
              <h4>1. 计划</h4>
              <p>
                在你写一行之前，弄清楚你正在构建什么以及为什么。使用研究代理收集示例、模式和背景。可以将其视为 Google 搜索与专家咨询的结合。
              </p>
            </div>
            <div class="philosophy-card">
              <div class="philosophy-icon"><i class="fa-solid fa-robot"></i></div>
              <h4>2. 委托</h4>
              <p>
                现在在帮助下构建它。每个代理都有自己的专长（Rails、安全性、设计）。您坐在驾驶座上，但您拥有一支由专家组成的团队。
              </p>
            </div>
            <div class="philosophy-card">
              <div class="philosophy-icon"><i class="fa-solid fa-magnifying-glass"></i></div>
              <h4>3. 评估</h4>
              <p>
                在发货之前，请先接受挑战。安全代理检查漏洞。性能代理标记 N+1 查询。建筑经纪人质疑您的设计选择。全部同时进行，全部并行。
              </p>
            </div>
            <div class="philosophy-card">
              <div class="philosophy-icon"><i class="fa-solid fa-book"></i></div>
              <h4>4. 编纂</h4>
              <p>
                你刚刚解决了一个问题。把它写下来。下次您（或您的队友）遇到此问题时，您将拥有一本操作手册。这就是“复合”部分——每个解决方案都会使下一个解决方案更快。
              </p>
            </div>
          </div>
        </section>

        <!-- Using Agents Section -->
        <section id="agents">
          <h2><i class="fa-solid fa-users-gear"></i> 使用代理</h2>

          <p>
            将代理视为具有不同职位的同事。您不会要求您的安全工程师来设计您的 UI，对吗？这里的概念相同——每个代理都有其专长，您可以拨打您需要的专长。
          </p>

          <h3>调用代理</h3>
          <div class="card-code-block">
            <pre><code># Basic syntax
claude agent [agent-name] "[optional message]"

# Examples
claude agent kieran-rails-reviewer
claude agent security-sentinel "Audit the payment flow"
claude agent git-history-analyzer "Show changes to user model"</code></pre>
          </div>

          <h3>代理类别</h3>
          <table class="docs-table">
            <thead>
              <tr>
                <th>类别</th>
                <th>数数</th>
                <th>目的</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>审查</td>
                <td>10</td>
                <td>代码审查、安全审计、性能分析</td>
              </tr>
              <tr>
                <td>研究</td>
                <td>四</td>
                <td>最佳实践、文档、git 历史记录</td>
              </tr>
              <tr>
                <td>设计</td>
                <td>三</td>
                <td>UI迭代、Figma同步、设计审查</td>
              </tr>
              <tr>
                <td>工作流程</td>
                <td>五</td>
                <td>Bug 重现、PR 解决、linting</td>
              </tr>
              <tr>
                <td>文档</td>
                <td>一</td>
                <td>自述文件生成</td>
              </tr>
            </tbody>
          </table>

          <p>
            <a href="agents.html" class="button secondary">
              <i class="fa-solid fa-arrow-right"></i> 查看所有代理商
            </a>
          </p>
        </section>

        <!-- Using Commands Section -->
        <section id="commands">
          <h2><i class="fa-solid fa-terminal"></i> 使用命令</h2>

          <p>
            命令是为您运行整个工作流程的宏。一个命令可以启动十几个代理，协调他们的工作，收集结果，并向您提供一份摘要。从头到尾都是自动化。
          </p>

          <h3>运行命令</h3>
          <div class="card-code-block">
            <pre><code># Workflow commands
/plan
/review 123
/work
/compound

# Utility commands
/changelog
/triage
/reproduce-bug</code></pre>
          </div>

          <h3>审核工作流程</h3>
          <p>让我告诉你跑步时会发生什么 <code>/review</code>。这是顺序：</p>
          <ol>
            <li><strong>检测</strong> - 找出您想要审核的内容（PR 编号、分支名称或当前更改）</li>
            <li><strong>隔离</strong> - 启动 git 工作树，这样审查就不会扰乱你的工作目录</li>
            <li><strong>并行执行</strong> - 同时启动 10 多个代理（安全性、性能、架构、可访问性......）</li>
            <li><strong>合成</strong> - 按严重性对结果进行排序（P1 = 块合并，P2 = 应该修复，P3 = 最好有）</li>
            <li><strong>坚持</strong> - 创建待办事项文件，这样您就不会忘记问题</li>
            <li><strong>概括</strong> - 为您提供一份包含行动项目的可读报告</li>
          </ol>

          <p>
            <a href="commands.html" class="button secondary">
              <i class="fa-solid fa-arrow-right"></i> 查看所有命令
            </a>
          </p>
        </section>

        <!-- Using Skills Section -->
        <section id="skills">
          <h2><i class="fa-solid fa-wand-magic-sparkles"></i> 使用技巧</h2>

          <p>
            区别在于：代理是 <em>WHO</em> 做工作，技能是 <em>他们知道什么</em>。当您调用一项技能时，您正在将参考库加载到 Claude 的上下文中——模式、模板、示例、工作流程。这就像递给克劳德一本技术手册。
          </p>

          <h3>调用技能</h3>
          <div class="card-code-block">
            <pre><code># In your prompt, reference the skill
skill: gemini-imagegen

# Or ask Claude to use it
"Use the dhh-ruby-style skill to refactor this code"</code></pre>
          </div>

          <h3>技能结构</h3>
          <p>查看技能目录，您通常会发现：</p>
          <ul>
            <li><strong>技能.md</strong> - 主要说明（克劳德首先读到的内容）</li>
            <li><strong>参考/</strong> - 深入探讨概念和模式</li>
            <li><strong>模板/</strong> - 复制粘贴代码片段</li>
            <li><strong>工作流程/</strong> - 分步“操作方法”指南</li>
            <li><strong>脚本/</strong> - 实际的可执行代码（当文字不够时）</li>
          </ul>

          <p>
            <a href="skills.html" class="button secondary">
              <i class="fa-solid fa-arrow-right"></i> 查看所有技能
            </a>
          </p>
        </section>

        <!-- Code Review Workflow Guide -->
        <section id="code-review">
          <h2><i class="fa-solid fa-code-pull-request"></i> 代码审查工作流程指南</h2>

          <p>
            您将在这里度过大部分时间。这个工作流程就是插件存在的原因——将代码审查从瓶颈变成超级能力。
          </p>

          <h3>基本回顾</h3>
          <div class="card-code-block">
            <pre><code># Review a PR
/review 123

# Review current branch
/review</code></pre>
          </div>

          <h3>了解调查结果</h3>
          <p>每个发现都有一个优先标签。他们的意思是这样的：</p>
          <ul>
            <li><span class="badge badge-critical">P1 关键</span> - 在解决此问题之前不要合并。想想：SQL 注入、数据丢失、生产崩溃。</li>
            <li><span class="badge badge-important">P2 重要</span> - 发货前修复。性能回归、N+1 查询、不稳定的架构。</li>
            <li><span class="badge badge-nice">P3 锦上添花</span> - 会更好，但如果需要的话，可以不带它。文档、小的清理、风格问题。</li>
          </ul>

          <h3>使用待办事项文件</h3>
          <p>审核后，您将获得 <code>todos/</code> 充满 markdown 文件的目录。每个问题都是一个需要解决的问题：</p>
          <div class="card-code-block">
            <pre><code># List all pending todos
ls todos/*-pending-*.md

# Triage findings
/triage

# Resolve todos in parallel
/resolve_todo_parallel</code></pre>
          </div>
        </section>

        <!-- Creating Custom Agents -->
        <section id="creating-agents">
          <h2><i class="fa-solid fa-plus"></i> 创建自定义代理</h2>

          <p>
            内置代理涵盖很多领域，但每个团队都有独特的需求。也许您想要一个“rails-api-reviewer”来执行您公司的 API 标准。这就是 10 分钟的工作。
          </p>

          <h3>代理文件结构</h3>
          <div class="card-code-block">
            <pre><code>---
name: my-custom-agent
description: Brief description of what this agent does
---

# Agent Instructions

You are [role description].

## Your Responsibilities
1. First responsibility
2. Second responsibility

## Guidelines
- Guideline one
- Guideline two</code></pre>
          </div>

          <h3>代理地点</h3>
          <p>将代理文件放入以下目录之一：</p>
          <ul>
            <li><code>.claude/agents/</code> - 只是为了这个项目（致力于git）</li>
            <li><code>~/.claude/agents/</code> - 可用于您的所有项目（保留在您的机器上）</li>
          </ul>

          <div class="callout callout-tip">
            <div class="callout-icon"><i class="fa-solid fa-lightbulb"></i></div>
            <div class="callout-content">
              <h4>简单的方法</h4>
              <p>
                不要手动编写 YAML。就跑 <code>/create-agent-skill</code> 并回答几个问题。该命令生成文件，验证格式，并将其放在正确的位置。
              </p>
            </div>
          </div>
        </section>

        <!-- Creating Custom Skills -->
        <section id="creating-skills">
          <h2><i class="fa-solid fa-plus"></i> 创建自定义技能</h2>

          <p>
            技能比代理更重要——它们是知识库，而不仅仅是提示。您正在构建一个克劳德可以参考的迷你图书馆。值得为你反复做的事情付出努力。
          </p>

          <h3>技能目录结构</h3>
          <div class="card-code-block">
            <pre><code>my-skill/
  SKILL.md           # Main skill file (required)
  references/        # Supporting documentation
    concept-one.md
    concept-two.md
  templates/         # Code templates
    basic-template.md
  workflows/         # Step-by-step procedures
    workflow-one.md
  scripts/           # Executable scripts
    helper.py</code></pre>
          </div>

          <h3>技能.md 格式</h3>
          <div class="card-code-block">
            <pre><code>---
name: my-skill
description: Brief description shown when skill is invoked
---

# Skill Title

Detailed instructions for using this skill.

## Quick Start
...

## Reference Materials
The skill includes references in the `references/` directory.

## Templates
Use templates from the `templates/` directory.</code></pre>
          </div>

          <div class="callout callout-tip">
            <div class="callout-icon"><i class="fa-solid fa-lightbulb"></i></div>
            <div class="callout-content">
              <h4>获得技能培养帮助</h4>
              <p>
                类型 <code>skill: create-agent-skills</code> 克劳德加载了有关技能架构、最佳实践、文件组织和验证的专家指南。这就像有一位高级工程师带您完成它。
              </p>
            </div>
          </div>
        </section>

        <!-- Navigation -->
        <nav class="docs-nav-footer">
          <a href="../index.html" class="nav-prev">
            <span class="nav-label">以前的</span>
            <span class="nav-title"><i class="fa-solid fa-arrow-left"></i> 家</span>
          </a>
          <a href="agents.html" class="nav-next">
            <span class="nav-label">下一个</span>
            <span class="nav-title">代理参考 <i class="fa-solid fa-arrow-right"></i></span>
          </a>
        </nav>
      </article>
    </main>
  </div>

  <script>
    // Sidebar toggle for mobile
    document.querySelector('[data-sidebar-toggle]')?.addEventListener('click', () => {
      document.querySelector('.docs-sidebar').classList.toggle('open');
    });

    // Active link highlighting
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.sidebar-nav a');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (pageYOffset >= sectionTop - 100) {
          current = section.getAttribute('id');
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>

</html>
